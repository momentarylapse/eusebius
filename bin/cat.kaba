#define __OS__
use "prog_header.kaba"


void cat(string filename)
	int h = open(filename, O_RDONLY)
	if h < 0
		print("cat: kann Datei nicht oeffnen: " + filename + "\n")
		exit(-1)
	string s
	while true
		s.resize(128)
		int r = read(h, &s[0], 128)
		if r < 0
			print("Fehler beim Lesen...\n")
		if r <= 0
			break
		s.resize(r)
		print(s)
	close(h)


void main()
	init_lib()
	string arg[]
	get_args(arg)
	
	for int i, 1, arg.num
		cat(arg[i])
		//print FileRead(arg[i])
	
	exit(0)
